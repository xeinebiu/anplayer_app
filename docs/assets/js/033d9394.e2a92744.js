"use strict";(self.webpackChunkanplayer=self.webpackChunkanplayer||[]).push([[422],{8700:(e,n,l)=>{l.d(n,{j:()=>c});l(6540);var s=l(4848);const c=e=>{let{onClick:n,children:l}=e;return(0,s.jsx)("button",{className:"button button-primary",onClick:n,children:l})}},8044:(e,n,l)=>{l.r(n),l.d(n,{default:()=>m});var s=l(6540),c=l(1410);var t=l(4848);const r=e=>{let{children:n,className:l}=e;return(0,t.jsx)("div",{className:`card ${l||""}`,children:n})},a=e=>{let{children:n}=e;return(0,t.jsx)("div",{className:"card-header",children:n})},i=e=>{let{children:n}=e;return(0,t.jsx)("h3",{className:"card-title",children:n})},o=e=>{let{children:n}=e;return(0,t.jsx)("div",{className:"card-content",children:n})};var d=l(8700);const h=e=>{let{value:n,onChange:l,placeholder:s}=e;return(0,t.jsx)("input",{className:"input-field",type:"text",value:n,onChange:l,placeholder:s})},u=e=>{let{htmlFor:n,children:l,muted:s}=e;return(0,t.jsx)("label",{className:s?"label-muted":"label",htmlFor:n,children:l})},p=e=>{let{id:n,checked:l,onChange:s}=e;return(0,t.jsx)("input",{type:"checkbox",id:n,className:"checkbox",checked:l,onChange:e=>s(e.target.checked)})},x=(()=>{try{return JSON.parse(anPlayer.getConfiguration())}catch(e){return console.error(e),{excludeKeywords:[],includePeopleOnFeed:!0,includeTvShowsOnFeed:!0}}})(),j=e=>{const n=JSON.stringify(e);anPlayer.setConfiguration(n)&&anPlayer.finish()},m=()=>{const[e,n]=(0,s.useState)(x.excludeKeywords?.join(",")??""),[l,m]=(0,s.useState)({tvShows:x.includeTvShowsOnFeed,people:x.includePeopleOnFeed}),v=(0,s.useCallback)((()=>({excludeKeywords:e?e.split(","):void 0,includePeopleOnFeed:l.people,includeTvShowsOnFeed:l.tvShows})),[e,l]),b=(0,s.useCallback)((()=>{const e=v();j(e)}),[v]),g=(0,s.useCallback)((()=>{const e=v(),n=function(e){const n=[];for(const l in e)n.push(encodeURIComponent(l)+"="+encodeURIComponent(e[l]));return n.join("&")}({config:JSON.stringify(e),downloadUrl:"https://raw.githubusercontent.com/xeinebiu/anplayer_app/main/plugins/tmdb.json"});window.open(`anplayer://plugin/install?${n}`,"_blank")}),[v]),k=(()=>{try{return!!anPlayer}catch{return!1}})();return(0,t.jsx)(c.A,{title:"TMDb",description:"TMDB Configuration Page",children:(0,t.jsx)("div",{className:"tmdb-container",children:(0,t.jsxs)("div",{className:"tmdb-main",children:[(0,t.jsxs)(r,{children:[(0,t.jsx)(a,{children:(0,t.jsx)(i,{children:"Exclusion Settings"})}),(0,t.jsxs)(o,{children:[(0,t.jsx)(h,{placeholder:"480p, BRrip, ...",value:e,onChange:e=>n(e.target.value)}),(0,t.jsx)(u,{muted:!0,children:"Filter out contents containing any of these keywords (comma-separated)"})]})]}),(0,t.jsxs)(r,{children:[(0,t.jsx)(a,{children:(0,t.jsx)(i,{children:"Content Preferences"})}),(0,t.jsxs)(o,{children:[(0,t.jsxs)("div",{className:"checkbox-container",children:[(0,t.jsx)(p,{id:"tv_shows",checked:l.tvShows,onChange:e=>m((n=>({...n,tvShows:e})))}),(0,t.jsx)(u,{htmlFor:"tv_shows",children:"TV Shows"})]}),(0,t.jsxs)("div",{className:"checkbox-container",children:[(0,t.jsx)(p,{id:"people",checked:l.people,onChange:e=>m((n=>({...n,people:e})))}),(0,t.jsx)(u,{htmlFor:"people",children:"People"})]}),(0,t.jsx)(u,{muted:!0,children:"Select content types to include in your personalized feeds"})]})]}),(0,t.jsx)("div",{className:"buttons-container",children:k?(0,t.jsx)(d.j,{onClick:b,children:"Save"}):(0,t.jsx)(d.j,{onClick:g,children:"Install"})})]})})})}}}]);